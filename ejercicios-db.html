<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Base de Datos de Ejercicios - SANTI FITNESS</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --neon: #00ffc8;
      --neon-alt: #00c8ff;
      --purple: #9d4edd;
      --dark: #0f0f0f;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: linear-gradient(180deg, #000 0%, #0f2027 50%, #001a33 100%);
      color: #e0e0e0;
      font-family: 'Montserrat', sans-serif;
      min-height: 100vh;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 50;
      padding: 20px;
      background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
      box-shadow: 0 0 50px rgba(0, 255, 200, 0.3);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    header h1 {
      font-size: 28px;
      letter-spacing: 2px;
    }

    header span {
      color: var(--neon);
      text-shadow: 0 0 15px rgba(0, 255, 200, 0.8);
    }

    #headerRight {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .nav-btn {
      padding: 10px 16px;
      border-radius: 8px;
      border: 1px solid var(--neon);
      background: rgba(0, 255, 200, 0.1);
      color: white;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }

    .nav-btn:hover {
      background: rgba(0, 255, 200, 0.2);
      transform: translateY(-2px);
    }

    .container {
      max-width: 1400px;
      margin: 30px auto;
      padding: 0 15px;
    }

    .search-box {
      display: flex;
      gap: 10px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .search-box input {
      flex: 1;
      min-width: 250px;
      padding: 15px;
      border-radius: 10px;
      border: 2px solid rgba(0, 255, 200, 0.3);
      background: rgba(0, 0, 0, 0.5);
      color: white;
      font-size: 14px;
    }

    .search-box input:focus {
      outline: none;
      border-color: var(--neon);
      box-shadow: 0 0 20px rgba(0, 255, 200, 0.3);
    }

    .filters {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    .filter-btn {
      padding: 10px 18px;
      border: 2px solid rgba(0, 255, 200, 0.3);
      background: rgba(0, 255, 200, 0.05);
      color: var(--neon);
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      font-size: 13px;
    }

    .filter-btn:hover,
    .filter-btn.active {
      background: rgba(0, 255, 200, 0.2);
      border-color: var(--neon);
      box-shadow: 0 0 15px rgba(0, 255, 200, 0.4);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .exercise-card {
      background: linear-gradient(135deg, rgba(20, 30, 40, 0.8), rgba(10, 10, 20, 0.95));
      border: 1px solid rgba(0, 255, 200, 0.15);
      border-radius: 12px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      flex-direction: column;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .exercise-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 40px rgba(0, 255, 200, 0.2);
      border-color: rgba(0, 255, 200, 0.4);
    }

    .exercise-icon {
      width: 100%;
      height: 140px;
      background: linear-gradient(135deg, rgba(0, 255, 200, 0.1), rgba(0, 200, 255, 0.1));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3em;
      border-bottom: 1px solid rgba(0, 255, 200, 0.2);
    }

    .exercise-card-content {
      padding: 16px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }

    .exercise-card h3 {
      color: var(--neon);
      margin-bottom: 8px;
      font-size: 1.05em;
      font-weight: 700;
    }

    .exercise-meta {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }

    .meta-badge {
      background: rgba(0, 255, 200, 0.1);
      border: 1px solid rgba(0, 255, 200, 0.3);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.75em;
      color: var(--neon);
      font-weight: 600;
    }

    .exercise-desc {
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.85em;
      margin-bottom: 10px;
      flex-grow: 1;
      line-height: 1.4;
    }

    .exercise-card button {
      background: linear-gradient(135deg, var(--neon), var(--neon-alt));
      border: none;
      color: black;
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.9em;
      transition: all 0.3s;
    }

    .exercise-card button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(0, 255, 200, 0.5);
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.92);
      justify-content: center;
      align-items: center;
      z-index: 200;
      backdrop-filter: blur(5px);
      padding: 20px;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: linear-gradient(135deg, rgba(20, 30, 40, 0.98), rgba(10, 10, 20, 0.98));
      padding: 30px;
      border-radius: 14px;
      max-width: 650px;
      width: 100%;
      border: 1px solid rgba(0, 255, 200, 0.2);
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
    }

    .close-modal {
      position: absolute;
      top: 15px;
      right: 15px;
      background: linear-gradient(135deg, #ff3333, #ff0000);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .close-modal:hover {
      transform: scale(1.1);
    }

    .modal h2 {
      color: var(--neon);
      margin: 20px 0 15px 0;
      font-size: 1.8em;
    }

    .modal p {
      color: rgba(255, 255, 255, 0.85);
      margin: 12px 0;
      line-height: 1.6;
      font-size: 0.95em;
    }

    .modal-section {
      background: rgba(0, 255, 200, 0.05);
      padding: 16px;
      border-left: 4px solid var(--neon);
      border-radius: 8px;
      margin: 16px 0;
      font-size: 0.9em;
    }

    .modal-section h3 {
      color: var(--neon-alt);
      margin-bottom: 10px;
      font-weight: 700;
    }

    .modal-btns {
      display: flex;
      gap: 12px;
      margin-top: 20px;
    }

    .modal-btns button {
      flex: 1;
      padding: 12px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .btn-save {
      background: linear-gradient(135deg, var(--neon), var(--neon-alt));
      color: black;
    }

    .btn-save:hover {
      transform: scale(1.02);
      box-shadow: 0 0 20px rgba(0, 255, 200, 0.5);
    }

    .btn-cancel {
      background: rgba(0, 255, 200, 0.1);
      color: var(--neon);
      border: 1px solid rgba(0, 255, 200, 0.2);
    }

    .notif {
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, var(--neon), var(--neon-alt));
      color: black;
      padding: 16px 24px;
      border-radius: 10px;
      font-weight: 600;
      z-index: 300;
      box-shadow: 0 8px 24px rgba(0, 255, 200, 0.4);
      display: none;
      animation: slideIn 0.4s ease;
    }

    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .alternativas {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 10px;
      margin: 10px 0;
    }

    .alt-item {
      background: rgba(0, 200, 255, 0.1);
      border: 1px solid rgba(0, 200, 255, 0.3);
      padding: 8px;
      border-radius: 6px;
      text-align: center;
      font-size: 0.85em;
      cursor: pointer;
      transition: all 0.3s;
    }

    .alt-item:hover {
      background: rgba(0, 200, 255, 0.2);
      transform: scale(1.05);
    }

    .empty-state {
      text-align: center;
      padding: 40px;
      color: #666;
    }

    .empty-state-icon {
      font-size: 3em;
      margin-bottom: 15px;
    }
  </style>
</head>
<body>
  <header>
    <h1>üí™ <span>BASE DE DATOS</span> DE EJERCICIOS</h1>
    <div id="headerRight">
      <button class="nav-btn" onclick="location.href='index.html'">üè† Inicio</button>
      <button class="nav-btn" onclick="logout()">üö™ Salir</button>
    </div>
  </header>

  <div class="container">
    <div class="search-box">
      <input type="text" id="searchInput" placeholder="üîç Busca un ejercicio...">
    </div>

    <div class="filters" id="filterContainer"></div>

    <div class="grid" id="exercisesGrid"></div>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal">
    <div class="modal-content">
      <button class="close-modal" onclick="cerrarModal()">‚úï</button>
      <div id="modalBody"></div>
    </div>
  </div>

  <div class="notif" id="notif"></div>

  <script src="assets/js/auth.js"></script>
  <script>
    const ejerciciosDB = [
      // PECHO
      {
        id: 1,
        nombre: "Press Banca",
        musculo: "Pecho",
        icon: "üèãÔ∏è",
        descripcion: "Levantamiento fundamental para pecho",
        tecnica: "Acu√©state en el banco, baja la barra hasta el pecho controlado, expulsa hacia arriba",
        series: "4x8",
        dificultad: "Intermedio",
        equipamiento: "Barra, Banco",
        alternativas: ["Press Mancuernas", "Press M√°quina"],
        musculos_secundarios: "Hombro anterior, Tr√≠ceps"
      },
      {
        id: 2,
        nombre: "Press Inclinado",
        musculo: "Pecho",
        icon: "üìà",
        descripcion: "√ânfasis en pecho superior",
        tecnica: "Inclina el banco 45¬∞, baja la barra a la clav√≠cula",
        series: "3x10",
        dificultad: "Intermedio",
        equipamiento: "Barra, Banco Inclinado",
        alternativas: ["Press Inclinado Mancuernas", "Aperturas Inclinadas"],
        musculos_secundarios: "Pecho superior, Hombro"
      },
      {
        id: 3,
        nombre: "Aperturas Mancuernas",
        musculo: "Pecho",
        icon: "üîì",
        descripcion: "Aislamiento para pecho",
        tecnica: "Acu√©state, abre los brazos como un abrazo lentamente",
        series: "3x12",
        dificultad: "B√°sico",
        equipamiento: "Mancuernas",
        alternativas: ["Aperturas M√°quina", "Crossover"],
        musculos_secundarios: "Pecho"
      },
      {
        id: 4,
        nombre: "Flexiones",
        musculo: "Pecho",
        icon: "‚ÜïÔ∏è",
        descripcion: "Ejercicio de peso corporal",
        tecnica: "Mant√©n cuerpo recto, baja controlado, sube con potencia",
        series: "3x15",
        dificultad: "B√°sico",
        equipamiento: "Ninguno",
        alternativas: ["Flexiones con Lastre", "M√°quina de Press"],
        musculos_secundarios: "Tr√≠ceps, Hombro"
      },
      // ESPALDA
      {
        id: 5,
        nombre: "Dominadas",
        musculo: "Espalda",
        icon: "‚¨ÜÔ∏è",
        descripcion: "Ejercicio fundamental de espalda",
        tecnica: "Agarre ancho, tira hacia arriba llevando pecho a la barra",
        series: "4x8",
        dificultad: "Avanzado",
        equipamiento: "Barra Dominadas",
        alternativas: ["Jal√≥n Frontal", "Jal√≥n M√°quina"],
        musculos_secundarios: "B√≠ceps"
      },
      {
        id: 6,
        nombre: "Remo Barra",
        musculo: "Espalda",
        icon: "üèπ",
        descripcion: "Movimiento compuesto de espalda",
        tecnica: "Inclina torso, tira barra al abdomen manteniendo espalda recta",
        series: "4x8",
        dificultad: "Intermedio",
        equipamiento: "Barra",
        alternativas: ["Remo M√°quina", "Remo Mancuernas"],
        musculos_secundarios: "B√≠ceps"
      },
      {
        id: 7,
        nombre: "Jal√≥n Frontal",
        musculo: "Espalda",
        icon: "‚¨áÔ∏è",
        descripcion: "Aislamiento controlado de espalda",
        tecnica: "Tira la barra hacia el pecho con movimiento fluido",
        series: "3x12",
        dificultad: "B√°sico",
        equipamiento: "M√°quina, Polea",
        alternativas: ["Jal√≥n Trasero", "Dominadas Asistidas"],
        musculos_secundarios: "B√≠ceps"
      },
      {
        id: 8,
        nombre: "Remo M√°quina",
        musculo: "Espalda",
        icon: "üéØ",
        descripcion: "Variante segura de remo",
        tecnica: "Tira los mangos hacia el pecho en movimiento controlado",
        series: "3x12",
        dificultad: "B√°sico",
        equipamiento: "M√°quina Remo",
        alternativas: ["Remo Barra", "Remo Mancuernas"],
        musculos_secundarios: "B√≠ceps"
      },
      // PIERNA
      {
        id: 9,
        nombre: "Sentadilla",
        musculo: "Pierna",
        icon: "‚¨áÔ∏è",
        descripcion: "Rey de los ejercicios de pierna",
        tecnica: "Baja controlado formando 90¬∞, sube potentemente",
        series: "4x8",
        dificultad: "Intermedio",
        equipamiento: "Barra, Rack",
        alternativas: ["Sentadilla Frontal", "Leg Press"],
        musculos_secundarios: "Gl√∫teos"
      },
      {
        id: 10,
        nombre: "Peso Muerto",
        musculo: "Pierna",
        icon: "üì¶",
        descripcion: "Ejercicio completo de fuerza",
        tecnica: "Levanta barra del piso manteniendo espalda recta",
        series: "3x5",
        dificultad: "Avanzado",
        equipamiento: "Barra, Discos",
        alternativas: ["Peso Muerto Rumano", "Smith Machine"],
        musculos_secundarios: "Espalda baja, Gl√∫teos"
      },
      {
        id: 11,
        nombre: "Leg Press",
        musculo: "Pierna",
        icon: "ü¶µ",
        descripcion: "Variante segura de sentadilla",
        tecnica: "Empuja la plataforma hacia arriba sin bloquear rodillas",
        series: "3x12",
        dificultad: "B√°sico",
        equipamiento: "M√°quina Leg Press",
        alternativas: ["Sentadilla", "Hack Squat"],
        musculos_secundarios: "Gl√∫teos"
      },
      {
        id: 12,
        nombre: "Zancadas",
        musculo: "Pierna",
        icon: "üë£",
        descripcion: "Unilateral para balancear",
        tecnica: "Da paso adelante, baja hasta 90¬∞, regresa",
        series: "3x12",
        dificultad: "Intermedio",
        equipamiento: "Mancuernas",
        alternativas: ["Zancadas M√°quina", "Zancadas Reversa"],
        musculos_secundarios: "Gl√∫teos, Balance"
      },
      // HOMBRO
      {
        id: 13,
        nombre: "Press Hombro",
        musculo: "Hombro",
        icon: "‚¨ÜÔ∏è",
        descripcion: "Movimiento fundamental de hombro",
        tecnica: "Levanta barra desde hombros hacia arriba",
        series: "4x8",
        dificultad: "Intermedio",
        equipamiento: "Barra",
        alternativas: ["Press Mancuernas", "Press M√°quina"],
        musculos_secundarios: "Tr√≠ceps"
      },
      {
        id: 14,
        nombre: "Elevaci√≥n Lateral",
        musculo: "Hombro",
        icon: "ü§ù",
        descripcion: "Aislamiento de deltoides lateral",
        tecnica: "Levanta mancuernas lateralmente hasta altura del hombro",
        series: "3x12",
        dificultad: "B√°sico",
        equipamiento: "Mancuernas",
        alternativas: ["Elevaci√≥n M√°quina", "Cable Lateral"],
        musculos_secundarios: "Deltoides"
      },
      {
        id: 15,
        nombre: "P√°jaros",
        musculo: "Hombro",
        icon: "üïäÔ∏è",
        descripcion: "Deltoides posterior",
        tecnica: "Inclinado, abre brazos como un p√°jaro",
        series: "3x12",
        dificultad: "B√°sico",
        equipamiento: "Mancuernas",
        alternativas: ["P√°jaros M√°quina", "P√°jaros Cable"],
        musculos_secundarios: "Espalda"
      },
      {
        id: 16,
        nombre: "Press Arnold",
        musculo: "Hombro",
        icon: "üåÄ",
        descripcion: "Variante completa del press",
        tecnica: "Gira mancuernas mientras subes",
        series: "3x10",
        dificultad: "Intermedio",
        equipamiento: "Mancuernas",
        alternativas: ["Press Hombro", "Press Mancuernas"],
        musculos_secundarios: "Tr√≠ceps"
      },
      // B√çCEPS
      {
        id: 17,
        nombre: "Curl B√≠ceps",
        musculo: "B√≠ceps",
        icon: "üí™",
        descripcion: "Cl√°sico para b√≠ceps",
        tecnica: "Levanta barra doblando codos, baja controlado",
        series: "3x12",
        dificultad: "B√°sico",
        equipamiento: "Barra",
        alternativas: ["Curl Mancuernas", "Curl M√°quina"],
        musculos_secundarios: "B√≠ceps"
      },
      {
        id: 18,
        nombre: "Curl Martillo",
        musculo: "B√≠ceps",
        icon: "üî®",
        descripcion: "Agarre neutro",
        tecnica: "Con las palmas juntas, levanta mancuernas",
        series: "3x12",
        dificultad: "B√°sico",
        equipamiento: "Mancuernas",
        alternativas: ["Curl Predicador", "Curl Cable"],
        musculos_secundarios: "Antebrazo"
      },
      {
        id: 19,
        nombre: "Curl Predicador",
        musculo: "B√≠ceps",
        icon: "ü™ë",
        descripcion: "Aislamiento completo",
        tecnica: "Apoya brazos en el predicador, levanta barra",
        series: "3x10",
        dificultad: "Intermedio",
        equipamiento: "Banco Predicador, Barra",
        alternativas: ["Curl M√°quina", "Curl Mancuernas Predicador"],
        musculos_secundarios: "B√≠ceps"
      },
      {
        id: 20,
        nombre: "Curl Concentrado",
        musculo: "B√≠ceps",
        icon: "üéØ",
        descripcion: "M√°ximo aislamiento",
        tecnica: "Sentado, apoya codo en muslo, levanta mancuerna",
        series: "3x12",
        dificultad: "B√°sico",
        equipamiento: "Mancuerna",
        alternativas: ["Curl Ara√±a", "Curl Sentado"],
        musculos_secundarios: "B√≠ceps"
      }
    ];

    let ejerciciosFiltrados = ejerciciosDB;

    function inicializar() {
      if (!isAuthenticated()) {
        window.location.href = 'index.html';
      }

      mostrarFiltros();
      mostrarEjercicios();

      document.getElementById('searchInput').addEventListener('input', filtrar);
    }

    function mostrarFiltros() {
      const musculos = [...new Set(ejerciciosDB.map(e => e.musculo))];
      const container = document.getElementById('filterContainer');
      
      container.innerHTML = `
        <button class="filter-btn active" onclick="filtrarPor('todos')">Todos</button>
        ${musculos.map(m => `<button class="filter-btn" onclick="filtrarPor('${m}')">${m}</button>`).join('')}
      `;
    }

    function filtrarPor(musculo) {
      document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');

      if (musculo === 'todos') {
        ejerciciosFiltrados = ejerciciosDB;
      } else {
        ejerciciosFiltrados = ejerciciosDB.filter(e => e.musculo === musculo);
      }
      mostrarEjercicios();
    }

    function filtrar() {
      const termino = document.getElementById('searchInput').value.toLowerCase();
      ejerciciosFiltrados = ejerciciosDB.filter(e => 
        e.nombre.toLowerCase().includes(termino) ||
        e.musculo.toLowerCase().includes(termino) ||
        e.descripcion.toLowerCase().includes(termino)
      );
      mostrarEjercicios();
    }

    function mostrarEjercicios() {
      const grid = document.getElementById('exercisesGrid');
      
      if (ejerciciosFiltrados.length === 0) {
        grid.innerHTML = `
          <div class="empty-state" style="grid-column: 1/-1;">
            <div class="empty-state-icon">üîç</div>
            <p>No encontramos ejercicios que coincidan con tu b√∫squeda</p>
          </div>
        `;
        return;
      }

      grid.innerHTML = ejerciciosFiltrados.map(e => `
        <div class="exercise-card">
          <div class="exercise-icon">${e.icon}</div>
          <div class="exercise-card-content">
            <h3>${e.nombre}</h3>
            <div class="exercise-meta">
              <span class="meta-badge">${e.musculo}</span>
              <span class="meta-badge">${e.dificultad}</span>
            </div>
            <p class="exercise-desc">${e.descripcion}</p>
            <button onclick="verDetalles(${e.id})">üìñ Ver Detalles</button>
          </div>
        </div>
      `).join('');
    }

    function verDetalles(id) {
      const ejercicio = ejerciciosDB.find(e => e.id === id);
      if (!ejercicio) return;

      const modalBody = document.getElementById('modalBody');
      modalBody.innerHTML = `
        <h2>${ejercicio.icon} ${ejercicio.nombre}</h2>
        
        <div class="modal-section">
          <h3>üìã Informaci√≥n B√°sica</h3>
          <p><strong>M√∫sculo:</strong> ${ejercicio.musculo}</p>
          <p><strong>Dificultad:</strong> ${ejercicio.dificultad}</p>
          <p><strong>Series Recomendadas:</strong> ${ejercicio.series}</p>
          <p><strong>Equipamiento:</strong> ${ejercicio.equipamiento}</p>
        </div>

        <div class="modal-section">
          <h3>üí™ Secundarios</h3>
          <p>${ejercicio.musculos_secundarios}</p>
        </div>

        <div class="modal-section">
          <h3>üéØ T√©cnica</h3>
          <p>${ejercicio.tecnica}</p>
        </div>

        <div class="modal-section">
          <h3>üîÑ Ejercicios Alternativos</h3>
          <div class="alternativas">
            ${ejercicio.alternativas.map(a => `
              <div class="alt-item">${a}</div>
            `).join('')}
          </div>
        </div>

        <div class="modal-btns">
          <button class="btn-save" onclick="agregarFavorito('${ejercicio.nombre}')">‚≠ê Favorito</button>
          <button class="btn-cancel" onclick="cerrarModal()">Cerrar</button>
        </div>
      `;

      document.getElementById('modal').classList.add('active');
    }

    function cerrarModal() {
      document.getElementById('modal').classList.remove('active');
    }

    function agregarFavorito(nombre) {
      let favoritos = JSON.parse(localStorage.getItem(`favoritos_${currentUser.username}`)) || [];
      if (!favoritos.includes(nombre)) {
        favoritos.push(nombre);
        localStorage.setItem(`favoritos_${currentUser.username}`, JSON.stringify(favoritos));
      }
      showNotif(`‚≠ê "${nombre}" agregado a favoritos`);
    }

    function showNotif(msg) {
      const notif = document.getElementById('notif');
      notif.textContent = msg;
      notif.style.display = 'block';
      setTimeout(() => notif.style.display = 'none', 3000);
    }

    function logout() {
      try {
        // Limpiar datos de sesi√≥n
        localStorage.removeItem('currentUser');
        localStorage.removeItem('currentSession');
        localStorage.removeItem('guestSession');
        
        // Limpiar datos de usuario si existen
        if (currentUser) {
          localStorage.removeItem(`temp_calendar_${currentUser.username}`);
          localStorage.removeItem(`temp_progress_${currentUser.username}`);
          localStorage.removeItem(`temp_mentality_${currentUser.username}`);
        }
        
        currentUser = null;
        isGuest = false;
        
        // Redirigir a index despu√©s de un peque√±o delay
        setTimeout(() => {
          window.location.href = 'index.html';
        }, 300);
      } catch (error) {
        console.error('Error al cerrar sesi√≥n:', error);
        // Forzar redireccionamiento incluso si hay error
        window.location.href = 'index.html';
      }
    }

    document.addEventListener('DOMContentLoaded', inicializar);
  </script>
</body>
</html>
